\section{Results and Discussion}\label{sec:result}


Based on the two-step approach of folding a carton model as well as the suggestive user interface, our system is natural and easy to use. 
%
We will show a series of results of cartons in various shapes. 
%
\reply{A user study was also conducted to examine the effectivenss of our suggestive system.}

\subsection{Carton Results}

%%%%%%%%%%% Fully automatic results %%%%%%%%%%%

For most cuboid cartons, their 3D models can be generated by folding each edge by $\pi/2$, as shown in Figure~\ref{fig:initial-automatic} and Figure~\ref{fig:automatic-more}.
In the common design process nowadays, designers typically spend much time on manually creating the 3D carton models in 3D modeling softwares. 
Our suggestive interface significantly saves the designers' effort so that they can focus on the appearance designing of cartons. 


\begin{figure}
	\centering
	\includegraphics[width=\textwidth]{images/moreAutomatic}
	\caption{More carton examples that can be automatically generated. \xjmd{For each example, four subfigures are shown from left to right: the input 2D layout, an intermediate stage during folding, and the final 3D shape at two views.}  }
	\label{fig:automatic-more}
	
\end{figure}

%%%%%%%%%% Results with refinement %%%%%%%%%%

\begin{figure}
	\centering
	\includegraphics[width=\textwidth]{images/105}
	\caption{\xjmd{A complete process of generating a carton model with user interactions. From left to right: the input structural layout used to generate a flat polymesh, the initial 3D model, then two vertex merging confirmations and one panel pasting, and the final 3D model.}}
	\label{fig:result}
\end{figure}

For more complicated cartons, shape refinement is required. 
An entire process of creating a carton model from a 2D layout is illustrated in Figure~\ref{fig:result}.
%
The final model can be generated by three clicks from the user to confirm vertex merging two times, and panel pasting one time.
\reply{Note that our system automatically detects these possible geometric editing options for users to select. Therefore, the user can get rid of the tedious work of selecting edges or vertexes and assigning precise length or positions to them.}
%
A more challenging example is shown in Figure~\ref{fig:hexagon}. 
By initially folding each edge as $\pi/2$, our system firstly generates a cube inside the carton for the six square faces. 
Sometimes, our system fails to detect mergeable vertexes with a small threshold $\epsilon$ to merge closeby vertexes.
%
However, the user could manually select two vertexes to merge. Then our system automatically detects two symmetric vertexes that also can be merged. 
%
Finally, a hexagonal carton can be generated in a limited number of user interactions.
%



%





\begin{figure}
	\centering
	\includegraphics[width=0.9\textwidth]{images/limitation}
	\caption{Given a 2D layout (a), our system can generate an initialized result (b). \xjmd{Through 11 times of user interaction including selecting merging vertexes and panel pasting, the final model can be obtained as (d)}. }
	\label{fig:hexagon}
\end{figure}

\begin{figure}
	\centering
	\includegraphics[width=0.9\textwidth]{images/newMore}
	\caption{More results need refinement. Users can manipulate more complicated cartons. The first and second column in each sub-figure are the flat mesh and initialization result of cartons, and the last two column shows the model after interaction in  different views. Circles marked in red means the part that need to be merged.}
	\label{fig:result-more}
\end{figure}



More carton models generated using our system \xjmd{with a few user interactions} are shown in Figure~\ref{fig:result-more}.
The statistics of the panel number, edge number, and number of user interactions are listed in Table~\ref{table:statistics}. 
We can see that only a few user interactions on confirming system suggestions are needed for a variety of shapes.


\begin{table}
	\centering
	\caption{Statistics on the number of edges $N_{edge}$, number of panels $N_{panel}$, and the number of user interactions $N_{interaction}$ of the examples shown in this paper.}
	\setlength{\tabcolsep}{1pt}
	\begin{tabular}{c|c|c|c|c|c|c|c|c|c|c|c|c}
		\hline
		Examples & Fig.\ref{fig:automatic-more}(a) & Fig.\ref{fig:automatic-more}(b) &  Fig.\ref{fig:automatic-more}(c) & Fig.\ref{fig:automatic-more}(d) & Fig.\ref{fig:result} & Fig.\ref{fig:hexagon} & Fig.\ref{fig:result-more}(a) & Fig.\ref{fig:result-more}(b)& Fig.\ref{fig:result-more}(c) &  Fig.\ref{fig:result-more}(d) & Fig.\ref{fig:result-more}(e)& Fig.\ref{fig:result-more}(f)\\
		\hline
		$N_{edge}$ & 49 & 62 & 46 & 45 & 54 & 67 & 40 & 43 & 42 & 38 & 48 & 30\\
		$N_{panel}$  & 13 & 13 & 11 & 13 & 14 & 19 & 11 & 13 & 13 & 13 & 12 & 11\\
		$N_{interaction}$  & 0 & 0 & 0 & 0 & 3 & 9 & 1 & 4 & 1 & 3 & 3 & 3\\ 
		\hline
		\end{tabular}
		\label{table:statistics}
\end{table}


%%%%%%% User Study %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{User Study}
\label{sec:userstudy}
\input{UserStudy}

\paragraph{Limitations.}

%%%%%%%%%% Limitations and discussions %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\reply{ Our suggestive shape optimization is very useful in a wide range of cases. However, there are still some failure cases that we can not deal with. Figure~\ref{fig:failure} shows a case that failed to generate 3D model by optimization. The panels circled in red should be merged together to produce a strong enforced panel, while our system expanded the panel away. Moreover, we cannot deal with the case that if we want to layout down the back red panel and keep the bottom lines of green side panels together. The carton layouts whose panel graph has a loop will also be failed to construct corresponding model such as milk cartons.  
}

\begin{figure}
	\centering
	\includegraphics[width=0.8\textwidth]{images/moreLimitation}
	\caption{A failure case that shape optimization can not handle with. }
	\label{fig:failure}
\end{figure}
